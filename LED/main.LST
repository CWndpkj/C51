C51 COMPILER V9.01   MAIN                                                                  07/23/2023 11:18:56 PAGE 1   


C51 COMPILER V9.01, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.OBJ
COMPILER INVOKED BY: D:\install\Keil\C51\BIN\C51.EXE main.c BROWSE DEBUG OBJECTEXTEND

line level    source

   1          #include <REGX52.H>
   2          
   3          sbit BEEP=P2^5; //将P2.5管脚定义为BEEP
   4          typedef unsigned int u16;       //对系统默认数据类型进行重定义
   5          typedef unsigned char u8;
   6          sbit LED=P2^6;
   7          //定义数码管位选信号控制脚
   8          sbit LSA=P2^2;
   9          sbit LSB=P2^3;
  10          sbit LSC=P2^4;
  11          //定义数码管段码口
  12          #define SMG_A_DP_PORT P0;
  13          
  14          //共阴极数码管显示0~F的段码数据(0-F,加上一个小数点)
  15          u8 gsmg_code[17]={0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,
  16                                          0x7f,0x6f,0x77,0x7c,0x39,0x5e,0x79,0x71,0x01};
  17          
  18          void delay(u8 declipse)   //单位ms
  19          {
  20   1              while(declipse--)
  21   1              {
  22   2                  unsigned char a,b,c;
  23   2                  for(c=1;c>0;c--)
  24   2                      for(b=142;b>0;b--)
  25   2                          for(a=2;a>0;a--);
  26   2              }
  27   1      }
  28          
  29          //数码管显示函数  (what 使用大写）
  30          void SMG_display(u8 where,u8 what)
  31          {
  32   1               u8 mask= 1 << (1 - 1);
  33   1               LSA=(~where)&mask;
  34   1               mask= 1 << (2 - 1);
  35   1               LSB=(~where)&mask;
  36   1               mask= 1 << (3 - 1);
  37   1               LSC=(~where)&mask;
  38   1               switch(what)
  39   1               {
  40   2                      case 0:
  41   2                      {
  42   3                         P0= gsmg_code[0];break;
  43   3                      }
  44   2                      case 1:
  45   2                         SMG_A_DP_PORT= gsmg_code[1];break;
*** WARNING C275 IN LINE 45 OF MAIN.C: expression with possibly no effect
*** ERROR C141 IN LINE 45 OF MAIN.C: syntax error near '='
  46   2                      case 2:
  47   2                         SMG_A_DP_PORT= gsmg_code[2];break;
*** ERROR C141 IN LINE 47 OF MAIN.C: syntax error near '='
  48   2                      case 3:
  49   2                         SMG_A_DP_PORT= gsmg_code[3];break;
*** ERROR C141 IN LINE 49 OF MAIN.C: syntax error near '='
  50   2                      case 4:
  51   2                         SMG_A_DP_PORT= gsmg_code[4];break;
C51 COMPILER V9.01   MAIN                                                                  07/23/2023 11:18:56 PAGE 2   

*** ERROR C141 IN LINE 51 OF MAIN.C: syntax error near '='
  52   2                      case 5:
  53   2                         SMG_A_DP_PORT= gsmg_code[5];break;
*** ERROR C141 IN LINE 53 OF MAIN.C: syntax error near '='
  54   2                      case 6:
  55   2                         SMG_A_DP_PORT= gsmg_code[6];break;
*** ERROR C141 IN LINE 55 OF MAIN.C: syntax error near '='
  56   2                      case 7:
  57   2                         SMG_A_DP_PORT= gsmg_code[7];break;
*** ERROR C141 IN LINE 57 OF MAIN.C: syntax error near '='
  58   2                      case 8:
  59   2                         SMG_A_DP_PORT= gsmg_code[8];break;
*** ERROR C141 IN LINE 59 OF MAIN.C: syntax error near '='
  60   2                      case 9:
  61   2                         SMG_A_DP_PORT= gsmg_code[9];break;
*** ERROR C141 IN LINE 61 OF MAIN.C: syntax error near '='
  62   2                      case 'A':
  63   2                         SMG_A_DP_PORT= gsmg_code[10];break;
*** ERROR C141 IN LINE 63 OF MAIN.C: syntax error near '='
  64   2                      case 'B':
  65   2                         SMG_A_DP_PORT= gsmg_code[11];break;
*** ERROR C141 IN LINE 65 OF MAIN.C: syntax error near '='
  66   2                      case 'C':
  67   2                         SMG_A_DP_PORT= gsmg_code[12];break;
*** ERROR C141 IN LINE 67 OF MAIN.C: syntax error near '='
  68   2                      case 'D':
  69   2                         SMG_A_DP_PORT= gsmg_code[13];break;
*** ERROR C141 IN LINE 69 OF MAIN.C: syntax error near '='
  70   2                      case 'E':
  71   2                         SMG_A_DP_PORT= gsmg_code[14];break;
*** ERROR C141 IN LINE 71 OF MAIN.C: syntax error near '='
  72   2                      case 'F':
  73   2                         SMG_A_DP_PORT= gsmg_code[15];break;
*** ERROR C141 IN LINE 73 OF MAIN.C: syntax error near '='
  74   2                      case '.':
  75   2                              SMG_A_DP_PORT= gsmg_code[16];break;
*** ERROR C141 IN LINE 75 OF MAIN.C: syntax error near '='
  76   2      
  77   2               }
  78   1      }
  79          
  80          void main()
  81          {                        
  82   1              u16     i=2000;
  83   1              while(1)
  84   1              {
  85   2      //      while(i--)//循环2000次
  86   2      //      {
  87   2      //              LED=!LED;
  88   2      //              BEEP=!BEEP;//产生一定频率的脉冲信号
  89   2      //              delay(1);
  90   2      //      }
  91   2      //      i=0;//清零
  92   2      //      BEEP=0;//关闭蜂鸣器
  93   2      //      LED=1;
  94   2                       SMG_display(2,0);
  95   2                       delay(100);
  96   2              
  97   2      
  98   2              }       
  99   1      }

C51 COMPILATION COMPLETE.  1 WARNING(S),  16 ERROR(S)
