C51 COMPILER V9.60.7.0   8BIT_SMG                                                          07/23/2023 21:42:08 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE 8BIT_SMG
OBJECT MODULE PLACED IN 8bit_SMG.OBJ
COMPILER INVOKED BY: D:\install\Keil\C51\BIN\C51.EXE 8bit_SMG.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND TABS(2)

line level    source

   1          #include <REGX52.H>
   2          #include "8bit_SMG.h"
   3          //定义数码管位选信号控制脚
   4          sbit LSA=P2^2;
   5          sbit LSB=P2^3;
   6          sbit LSC=P2^4;
   7          //定义数码管的管段码口
   8          sfr SMG_A_DP_PORT=0x80;
   9          //共阴极数码管显示0~F,小数点的段码数据
  10          unsigned char gsmg_code[17]={0x3f,0x06,0x5b,0x4f,0x66,0x6d,0x7d,0x07,
  11                  0x7f,0x6f,0x77,0x7c,0x39,0x5e,0x79,0x71,0x80};
  12          
  13          void SMG_display(unsigned char where,unsigned char what)
  14          {
  15   1          SMG_A_DP_PORT=0x00;
  16   1        
  17   1          LSA=((~where)>>0)&1==1;
  18   1          LSB=((~where)>>1)&1==1;
  19   1          LSC=((~where)>>2)&1==1;
  20   1          
  21   1         switch(what)
  22   1         {
  23   2          case 0:
  24   2             SMG_A_DP_PORT = gsmg_code[0];break;
  25   2          case 1:
  26   2             SMG_A_DP_PORT= gsmg_code[1];break;
  27   2          case 2:
  28   2             SMG_A_DP_PORT= gsmg_code[2];break;
  29   2          case 3:
  30   2             SMG_A_DP_PORT= gsmg_code[3];break;
  31   2          case 4:
  32   2             SMG_A_DP_PORT= gsmg_code[4];break;
  33   2          case 5:
  34   2             SMG_A_DP_PORT= gsmg_code[5];break;
  35   2          case 6:
  36   2             SMG_A_DP_PORT= gsmg_code[6];break;
  37   2          case 7:
  38   2             SMG_A_DP_PORT= gsmg_code[7];break;
  39   2          case 8:
  40   2             SMG_A_DP_PORT= gsmg_code[8];break;
  41   2          case 9:
  42   2             SMG_A_DP_PORT= gsmg_code[9];break;
  43   2          case 'A':
  44   2             SMG_A_DP_PORT= gsmg_code[10];break;
  45   2          case 'B':
  46   2             SMG_A_DP_PORT= gsmg_code[11];break;
  47   2          case 'C':
  48   2             SMG_A_DP_PORT= gsmg_code[12];break;
  49   2          case 'D':
  50   2             SMG_A_DP_PORT= gsmg_code[13];break;
  51   2          case 'E':
  52   2             SMG_A_DP_PORT= gsmg_code[14];break;
  53   2          case 'F':
  54   2             SMG_A_DP_PORT= gsmg_code[15];break;
  55   2          case '.':
C51 COMPILER V9.60.7.0   8BIT_SMG                                                          07/23/2023 21:42:08 PAGE 2   

  56   2            SMG_A_DP_PORT= gsmg_code[16];break;
  57   2      
  58   2         }
  59   1           delayms(1);
  60   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    171    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     17    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
